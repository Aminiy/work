MSC消息流程

老消息流程

1. 判断消息是否加密，加密则解密body
2. 判断是否是免费短信
	是：发短信
	否：这是条消息
		2.1 判断是否是群发消息
			是
				判断是否是重发消息
					是： 判断是否已经重发了-数据库已经存在该消息了-则直接返回应答-return
					否： 走群发逻辑
			否  二人消息
				判断是否是重发消息
					是： 判断是否已经重发了-数据库已经存在该消息了-则直接返回应答 - return
					否： 走二人发送逻辑
						是否发送给自己的消息
							是
							否
								在黑名单：消息存库，打上删除标记
								不在黑名单：
									敏感词过滤-开关
									发消息
										没送达，不是抄送-发短信

									发push-存在push能力的话








Request

From
To
Fpid
Encrypt      	optional
ServerData		optionnal ？
Status			optional，二人消息中默认值是2
					1：001 下行是否静默，0否 1是
					2：010 下行是否抄送  0否 1是
					4：0100，上行多人消息  
					8：01000， 是否送达 0否 1是
					16：010000 是否删除 0否 1是
					32：0100000  重发消息
MessageID
Type			8：免费短信				在http中 不应该支持这个功能



Response

Version
DateTime
	
